https://leetcode.com/problems/search-in-rotated-sorted-array/description/

package leetcode;

public class SearchSortedArray {

    public int binarySearch(int[] nums, int target, int l, int r) {

        while (l<=r) {
            int mid = (l+r)/2;

            if (target == nums[mid]) {
                return mid;
            } else if (target > nums[mid]) {
                l=mid+1;
            } else {
                r=mid-1;
            }
        }

        return -1;
    }

    public int search(int[] nums, int target) {
        int n = nums.length;
        boolean isArrayRotated = false;
        int index = -1;


        for (int i=0;i<n-1;i++) {
            if (nums[i]>nums[i+1]) {
                index = i;
                isArrayRotated = true;
                break;
            }
        }

        if (isArrayRotated) {
            int left = binarySearch(nums,target,0,index);
            if (left != -1) {
                return left;
            }

            int right = binarySearch(nums,target,index+1,n-1);
            if (right != -1) {
                return right;
            }

            return -1;
        } else {
            return binarySearch(nums,target,0,n-1);
        }
    }
}
